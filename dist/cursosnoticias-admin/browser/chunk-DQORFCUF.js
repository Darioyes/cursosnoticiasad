import{a as B}from"./chunk-JLOE5V2W.js";import{a as $}from"./chunk-2LSXDOOM.js";import{a as q}from"./chunk-SVQ25E35.js";import{a as P,b as l,c as F,d as E,e as D,g as k,h as V,i as T,j,k as z,l as A,m as G,n as L}from"./chunk-CIC5IFOZ.js";import{a as I}from"./chunk-P3L3KALH.js";import"./chunk-T23ZY6V2.js";import"./chunk-IXWLID5M.js";import"./chunk-TGWLULYN.js";import{Ca as c,Ta as N,Ua as M,Va as y,W as m,Xa as w,_ as v,ab as C,bb as h,cb as n,db as e,eb as _,fb as O,ha as p,ia as g,lb as u,mb as d,pa as b,rb as i,sb as x,wb as S}from"./chunk-6LMFFRUR.js";var R=(o,s)=>s.id,W=()=>[import("./chunk-ANOWGRSL.js").then(o=>o.TitleComponent),k,z,A,P,j,F,E,V,T];function H(o,s){if(o&1&&(n(0,"option",25),i(1),e()),o&2){let a=s.$implicit;w("value",a.id),c(),x(a.name)}}function J(o,s){if(o&1&&(n(0,"option",25),i(1),e()),o&2){let a=s.$implicit;w("value",a.id),c(),x(a.name)}}function K(o,s){if(o&1){let a=O();n(0,"section",0)(1,"div",1)(2,"a")(3,"i",2),u("click",function(){p(a);let r=d();return g(r.closeModal())}),e()()(),n(4,"div",3),_(5,"app-title",4),e(),n(6,"form",5)(7,"div",6)(8,"div",7)(9,"label",8),i(10,"T\xEDtulo"),e(),_(11,"textarea",9),e(),n(12,"div",7)(13,"label",10),i(14,"Ep\xEDgrafe"),e(),_(15,"textarea",11),e(),n(16,"div",7)(17,"label",12),i(18,"Contenido"),e(),n(19,"select",13)(20,"option",14),i(21,"Noticia"),e(),n(22,"option",15),i(23,"Curso"),e()()(),n(24,"div",7)(25,"label",16),i(26,"visible"),e(),n(27,"select",17)(28,"option",18),i(29,"Si"),e(),n(30,"option",19),i(31,"No"),e()()(),n(32,"div",7)(33,"label",20),i(34,"Principal"),e(),n(35,"select",21)(36,"option",18),i(37,"Si"),e(),n(38,"option",19),i(39,"No"),e()()(),n(40,"div",7)(41,"label",22),i(42,"Categor\xEDa noticia"),e(),n(43,"select",23)(44,"option",24),i(45,"No Aplica"),e(),C(46,H,2,2,"option",25,R),e()(),n(48,"div",7)(49,"label",26),i(50,"Categor\xEDa cursos"),e(),n(51,"select",27)(52,"option",24),i(53,"No Aplica"),e(),C(54,J,2,2,"option",25,R),e()()(),n(56,"div",28)(57,"label",29),i(58,"Imagen principal"),e(),n(59,"input",30),u("change",function(r){p(a);let f=d();return g(f.onFileChangeForm(r))}),e()(),n(60,"div",31)(61,"button",32),u("click",function(){p(a);let r=d();return g(r.postNews())}),i(62,"Guardar"),e(),n(63,"button",33),u("click",function(){p(a);let r=d();return g(r.closeModal())}),i(64,"Cancelar"),e()()()()}if(o&2){let a=d();c(6),w("formGroup",a.newsForm),c(40),h(a.categoriesNews),c(8),h(a.categoriesCourse)}}function Q(o,s){o&1&&_(0,"app-loading",34)}var se=(()=>{let s=class s{constructor(){this.newService=m(I),this.formbuilder=m(G),this.categoriesNewsService=m(B),this.categoriesCoursesService=m($),this.newsForm=new D({}),this.openModalNews=new b}ngOnInit(){this.newsNew(),this.getCategoriesNews(),this.getCategoriesCourses()}newsNew(){this.newsForm=this.formbuilder.group({title:["",l.compose([l.required,l.maxLength(255),l.minLength(5)])],epigraph:["",l.compose([l.required,l.maxLength(500),l.minLength(5)])],content:["",l.compose([l.required])],visible:[""],featured:[""],category_news_id:[""],category_course_id:[""],image:[""]})}get title(){return this.newsForm.get("title")}get epigraph(){return this.newsForm.get("epigraph")}get content(){return this.newsForm.get("content")}get visible(){return this.newsForm.get("visible")}get featured(){return this.newsForm.get("featured")}get category_news_id(){return this.newsForm.get("category_news_id")}get category_course_id(){return this.newsForm.get("category_course_id")}get image(){return this.newsForm.get("image")}postNews(){if(this.newsForm.valid){let t=new FormData;t.append("title",this.newsForm.get("title").value),t.append("epigraph",this.newsForm.get("epigraph").value),t.append("content",this.newsForm.get("content").value),t.append("visible",this.newsForm.get("visible").value),t.append("featured",this.newsForm.get("featured").value),t.append("category_news_id",this.newsForm.get("category_news_id").value),t.append("category_course_id",this.newsForm.get("category_course_id").value),t.append("image",this.newsForm.get("image").value),this.newService.newsNew(t).subscribe({next:r=>{this.newService.setModalActive(!1),this.openModalNews.emit(!1),this.newsForm.reset()},error:r=>{console.log(r)},complete:()=>{console.log("complete")}})}else console.log("formulario invalido")}onFileChangeForm(t){let r=t.target.files[0];this.newsForm.patchValue({image:r}),this.newsForm.get("image").updateValueAndValidity(),t.target.value=""}getCategoriesNews(){this.categoriesNewsService.getCategoriesNews().subscribe({next:t=>{this.categoriesNews=t.data.data},error:t=>{console.log(t)},complete:()=>{console.log("complete")}})}getCategoriesCourses(){this.categoriesCoursesService.getCategoriesNews().subscribe({next:t=>{this.categoriesCourse=t.data.data,this.existCategories=t.error},error:t=>{console.log(t)},complete:()=>{console.log("complete")}})}closeModal(){this.newService.setModalActive(!1),this.openModalNews.emit(!1),this.newsForm.reset()}};s.\u0275fac=function(r){return new(r||s)},s.\u0275cmp=v({type:s,selectors:[["app-new-news"]],outputs:{openModalNews:"openModalNews"},standalone:!0,features:[S],decls:4,vars:1,consts:[[1,"conteiner-news-one"],[1,"conteiner-news-one__close"],[1,"fa-solid","fa-x",3,"click"],[1,"conteiner-news-one__title"],["title","Crear nueva noticia"],["enctype","multipart/form-data",3,"formGroup"],[1,"conteiner-news-one__description"],[1,"conteiner-news-one__description--label"],["for","title"],["name","title","id","title","formControlName","title"],["for","epigraph"],["name","epigraph","id","epigraph","formControlName","epigraph"],["for","content"],["name","content","id","content","formControlName","content"],["value","news"],["value","course"],["for","visible"],["name","visible","id","visible","formControlName","visible"],["value","1"],["value","0"],["for","featured"],["name","featured","id","featured","formControlName","featured"],["for","category_news_id"],["name","category_news_id","id","category_news_id","formControlName","category_news_id"],["value",""],[3,"value"],["for","category_course_id"],["name","category_course_id","id","category_course_id","formControlName","category_course_id"],[1,"conteiner-news-one__image"],["for","image"],["type","file","name","image","formControlName","image",3,"change"],[1,"conteiner-news-one__btn"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"table-loading"]],template:function(r,f){r&1&&(N(0,K,65,1)(1,Q,1,0),M(2,0,W,null,1)),r&2&&(c(2),y(f.existCategories===!1))},dependencies:[L,q],styles:[".conteiner-news-one[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:first baseline;flex-direction:column;overflow-y:scroll}.conteiner-news-one[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.conteiner-news-one__close[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-end;padding:5px 10px;background:#999}.conteiner-news-one__close[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:30px;height:30px;display:flex;align-items:center;justify-content:center;background:#fff;padding:5px;border:1.5px solid #dc3545;color:#dc3545}.conteiner-news-one__close[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff;cursor:pointer}.conteiner-news-one__title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.conteiner-news-one__form[_ngcontent-%COMP%]{width:100%}.conteiner-news-one__description[_ngcontent-%COMP%]{padding:10px;width:100%;display:grid;grid-template-columns:repeat(2,1fr);grid-gap:.2rem}.conteiner-news-one__description--label[_ngcontent-%COMP%]{min-width:300px;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:10px;border:1px solid #ccc}.conteiner-news-one__description--label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;background:#999;text-align:center;padding:5px;font-size:1.2rem;color:#fff;font-weight:700}.conteiner-news-one__description--label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;padding:5px;font-size:1rem}.conteiner-news-one__description--label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:5px;font-size:1rem;border:none;outline:none}.conteiner-news-one__description--label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#f0efef}.conteiner-news-one__description--label[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:5px;font-size:1rem;border:none;outline:none;resize:none}.conteiner-news-one__description--label[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{background:#f0efef}.conteiner-news-one__description--label[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;border:none;outline:none;font-size:1.2rem;letter-spacing:1px;color:#222}.conteiner-news-one__full[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:10px;border:1px solid #ccc}.conteiner-news-one__full[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;background:#999;text-align:center;padding:5px;font-size:1.2rem;color:#fff;font-weight:700}.conteiner-news-one__full[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;padding:5px;font-size:1rem}.conteiner-news-one__image[_ngcontent-%COMP%]{width:150px}.conteiner-news-one__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;padding:10px}.conteiner-news-one__btn[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:10px;padding:10px}.conteiner-news-one[_ngcontent-%COMP%]   .form-articles[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}.conteiner-news-one[_ngcontent-%COMP%]   app-form-modify[_ngcontent-%COMP%]{width:100%}"]});let o=s;return o})();export{se as NewNewsComponent};
