import{a as G}from"./chunk-2LSXDOOM.js";import{a as F,b as m,c as E,d as S,e as O,g as T,h as k,i as D,m as P,n as V}from"./chunk-CIC5IFOZ.js";import{a as A}from"./chunk-P3L3KALH.js";import"./chunk-T23ZY6V2.js";import"./chunk-IXWLID5M.js";import{ya as M}from"./chunk-TGWLULYN.js";import{Ca as l,Ta as g,W as u,Xa as N,_ as w,_a as c,cb as i,db as r,eb as v,fb as _,ga as b,ha as p,ia as f,lb as d,mb as h,pa as y,rb as a,wb as x}from"./chunk-6LMFFRUR.js";function j(t,n){t&1&&(i(0,"h2"),a(1,"Nueva Categor\xEDa"),r())}function L(t,n){t&1&&(i(0,"h2"),a(1,"Editar Categor\xEDa"),r())}function z(t,n){t&1&&(i(0,"p",5),a(1,"La categor\xEDa es obligatorio"),r())}function q(t,n){t&1&&(i(0,"p",5),a(1,"La categor\xEDa debe tener al menos 3 caracteres"),r())}function I(t,n){t&1&&(i(0,"p",5),a(1,"La categor\xEDa debe tener menos de 100 caracteres"),r())}function B(t,n){if(t&1){let C=_();i(0,"button",10),d("click",function(){p(C);let s=h();return f(s.createCategoryNews())}),a(1,"Guardar"),r()}}function R(t,n){if(t&1){let C=_();i(0,"button",11),d("click",function(){p(C);let s=h();return f(s.createCategoryNews())}),a(1,"Actualizar"),r()}}var te=(()=>{let n=class n{constructor(){this.closeModalArticle=!1,this.serviceCategoriesNews=u(G),this.newService=u(A),this.formbuilder=u(P),this.categoriesNewsForm=new O({}),this.modalClose=new y}ngOnInit(){this.validatorsCategoriesNews()}ngOnChanges(){this.changeCategoryNews||setTimeout(()=>{this.categoriesNewsForm.setValue({name:this.nameCategory?this.nameCategory:""}),new FormData().append("name",this.categoriesNewsForm.get("categoriesNewsForm")?.value)},500)}validatorsCategoriesNews(){this.categoriesNewsForm=this.formbuilder.group({name:["",m.compose([m.required,m.maxLength(100),m.minLength(3)])]})}get name(){return this.categoriesNewsForm.get("name")}createCategoryNews(){this.changeCategoryNews?this.serviceCategoriesNews.createCategoryNews(this.categoriesNewsForm.value).subscribe({next:o=>{alert(o.message),this.closeModal()},error:o=>{console.log(o)},complete:()=>{console.log("complete")}}):(console.log("update"),this.serviceCategoriesNews.updateCategoryNews(this.categoriesNewsForm.value,this.idCategory).subscribe({next:o=>{alert(o.message),this.closeModal()},error:o=>{console.log(o)},complete:()=>{console.log("complete")}}))}closeModal(){this.closeModalArticle=!1,this.newService.setModalActive(!1),this.changeCategoryNews=!1,this.categoriesNewsForm.reset(),this.modalClose.emit(this.closeModalArticle)}};n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=w({type:n,selectors:[["app-courses-categories"]],inputs:{changeCategoryNews:"changeCategoryNews",nameCategory:"nameCategory",idCategory:"idCategory"},outputs:{modalClose:"modalClose"},standalone:!0,features:[b,x],decls:16,vars:6,consts:[[1,"conteiner-categories"],[1,"conteiner-categories__form",3,"formGroup"],[1,"conteiner-categories__form--labels"],["for","name"],["type","text","id","name","name","name","formControlName","name"],[1,"alert","alert-error"],[1,"conteiner-categories__form--button"],["type","submit",1,"btn","btn-success"],["type","submit",1,"btn","btn-warning"],[1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success",3,"click"],["type","submit",1,"btn","btn-warning",3,"click"]],template:function(s,e){s&1&&(i(0,"div",0),g(1,j,2,0,"h2")(2,L,2,0,"h2"),i(3,"form",1)(4,"div",2)(5,"label",3),a(6,"Nombre categoria"),r(),v(7,"input",4),g(8,z,2,0,"p",5)(9,q,2,0,"p",5)(10,I,2,0,"p",5),r(),i(11,"div",6),g(12,B,2,0,"button",7)(13,R,2,0,"button",8),i(14,"button",9),d("click",function(){return e.closeModal()}),a(15,"Cancelar"),r()()()()),s&2&&(l(),c(e.changeCategoryNews?1:2),l(2),N("formGroup",e.categoriesNewsForm),l(5),c(!(e.name==null||e.name.errors==null)&&e.name.errors.required&&(e.name!=null&&e.name.touched)?8:-1),l(),c(!(e.name==null||e.name.errors==null)&&e.name.errors.minlength&&(e.name!=null&&e.name.touched)?9:-1),l(),c(!(e.name==null||e.name.errors==null)&&e.name.errors.maxlength&&(e.name!=null&&e.name.touched)?10:-1),l(2),c(e.changeCategoryNews?12:13))},dependencies:[V,T,F,E,S,k,D,M],styles:[".conteiner-categories[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:start;flex-direction:column}.conteiner-categories__form[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:space-evenly;flex-direction:column}.conteiner-categories__form--labels[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:10px;border:1px solid #ccc}.conteiner-categories__form--labels[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;background:#999;text-align:center;padding:5px;font-size:1.2rem;color:#fff;font-weight:700}.conteiner-categories__form--labels[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:5px;font-size:1rem;border:none;outline:none}.conteiner-categories__form--labels[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#f0efef}.conteiner-categories__form--button[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:1%;padding:10px}"]});let t=n;return t})();export{te as CoursesCategoriesComponent};
