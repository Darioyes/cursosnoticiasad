import{a as v}from"./chunk-S3PDG7CB.js";import{a as L}from"./chunk-SVQ25E35.js";import{a as H}from"./chunk-T23ZY6V2.js";import{a as u,b as q}from"./chunk-IXWLID5M.js";import{Y as N,pa as $,ya as z}from"./chunk-TGWLULYN.js";import{$a as b,Ca as s,Q as E,Ta as x,Ua as k,Va as D,W as h,Xa as F,_ as S,_a as w,ab as M,bb as O,cb as a,db as c,eb as P,fb as f,ha as _,ia as p,lb as d,mb as m,nb as T,o as y,rb as l,sb as R,tb as C,ub as j,wb as V,xb as I,yb as A,z as g,zb as B}from"./chunk-6LMFFRUR.js";var U=(()=>{let i=class i{constructor(){this.http=h(q),this.baseurl=H.apiUrlBase+"api/"}sendError(t){let e="Algo ha ocurrido mal, por favor intentalo de nuevo",r="true";return t.status===400&&t.error&&t.error.errors?(e=t.error.message,r=t.error.errorNews):(e=t.error,r=t.error),y(()=>({message:e,errors:t.error.errors,errorNews:r}))}contactMe(){let t=this.baseurl+"contact",e=new u({Accept:"application/json"});return this.http.get(t,{headers:e}).pipe(g(this.sendError))}deleteContact(t){let e=this.baseurl+"contact/"+t,r=new u({Accept:"application/json"});return this.http.delete(e,{headers:r}).pipe(g(this.sendError))}downloadFile(t){let e=this.baseurl+"contact/download/"+t,r=new u({Accept:"application/json"});return this.http.get(e,{headers:r,responseType:"blob"}).pipe(g(this.sendError))}getPagination(t){let e=t,r=new u({Accept:"application/json"});return this.http.get(e,{headers:r}).pipe(g(this.sendError))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var G=()=>[N,$,v],J=n=>({"active-page":n});function K(n,i){n&1&&P(0,"app-title",1)}function Q(n,i){if(n&1){let o=f();a(0,"tr")(1,"td"),l(2),c(),a(3,"td"),l(4),c(),a(5,"td"),l(6),c(),a(7,"td"),l(8),A(9,"date"),c(),a(10,"td")(11,"i",8),d("click",function(){let e=_(o).$implicit,r=m(2);return p(r.downloadFile(e.id))}),c()(),a(12,"td")(13,"i",9),d("click",function(){let e=_(o).$implicit,r=m(2);return p(r.deleteComment(e.id))}),c()()()}if(n&2){let o=i.$implicit;s(2),C(" ",o.name," "),s(2),C(" ",o.email," "),s(2),C(" ",o.message," "),s(2),C(" ",B(9,4,o.created_at,"dd/MM/yyyy")," ")}}function X(n,i){n&1&&(a(0,"tr")(1,"td",10)(2,"p"),l(3,"No hay comentarios"),c()()())}function Y(n,i){if(n&1){let o=f();a(0,"a",12),d("click",function(){_(o);let e=m(3);return p(e.pagination(e.commentsResponse.data.prev_page_url))}),l(1,"Anterior"),c()}}function Z(n,i){if(n&1){let o=f();a(0,"a",12),d("click",function(){_(o);let e=m(3);return p(e.pagination(e.commentsResponse.data.next_page_url))}),l(1,"Siguiente"),c()}}function ee(n,i){if(n&1){let o=f();a(0,"a",13),d("click",function(){_(o);let e=m().$implicit,r=m(2);return p(r.pagination(e.url))}),l(1),c()}if(n&2){let o=m().$implicit;F("ngClass",I(2,J,o.active)),s(),R(o.label)}}function te(n,i){if(n&1&&x(0,Y,2,0,"a")(1,Z,2,0,"a")(2,ee,2,4,"a",11),n&2){let o=i.$implicit;w(o.label==="&laquo; Anterior"?0:o.label==="Siguiente &raquo;"?1:2)}}function ne(n,i){if(n&1&&(P(0,"app-title",2)(1,"div",3),a(2,"div",4)(3,"table")(4,"thead")(5,"tr")(6,"th"),l(7," Nombre "),c(),a(8,"th"),l(9," Email "),c(),a(10,"th"),l(11," Mensaje "),c(),a(12,"th"),l(13," Creado "),c(),a(14,"th"),l(15," Adjuntos "),c(),a(16,"th"),l(17," Borrar "),c()()(),a(18,"tbody"),M(19,Q,14,7,"tr",null,b,!1,X,4,0,"tr"),c()()(),a(22,"div",5)(23,"div",6),M(24,te,3,1,null,null,b),c(),a(26,"div",7)(27,"p"),l(28),c()()()),n&2){let o=m();T("title",o.commentsResponse==null?null:o.commentsResponse.message),s(19),O(o.comments),s(5),O(o.commentsResponse==null||o.commentsResponse.data==null?null:o.commentsResponse.data.links),s(4),j("",o.commentsResponse==null||o.commentsResponse.data==null?null:o.commentsResponse.data.to," / ",o.commentsResponse==null||o.commentsResponse.data==null?null:o.commentsResponse.data.total," ")}}function oe(n,i){n&1&&(a(0,"p",14),l(1,"Error en la petici\xF3n"),c())}function ie(n,i){n&1&&P(0,"app-loading",15)}function re(n,i){if(n&1&&x(0,oe,2,0,"p",14)(1,ie,1,0,"app-loading",15),n&2){let o=m();w(o.errorComments?0:1)}}var xe=(()=>{let i=class i{constructor(){this.commentsService=h(U)}ngOnInit(){this.getComments()}getComments(){this.commentsService.contactMe().subscribe({next:t=>{console.log(t),this.commentsResponse=t,this.comments=t.data.data},error:t=>{this.errorComments=t.message.message,console.log(t)},complete:()=>{console.log("complete")}})}deleteComment(t){confirm("\xBFEst\xE1s seguro de que deseas eliminar este comentario?")&&this.commentsService.deleteContact(t).subscribe({next:r=>{alert(r.message),this.getComments()},error:r=>{console.log(r)},complete:()=>{console.log("complete")}})}downloadFile(t){this.commentsService.downloadFile(t).subscribe({next:e=>{let r=window.URL.createObjectURL(e);window.open(r)},error:e=>{console.log(e)},complete:()=>{console.log("complete")}})}pagination(t){this.commentsService.getPagination(t).subscribe({next:e=>{this.commentsResponse=e},error:e=>{console.log(e)},complete:()=>{console.log("complete")}})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=S({type:i,selectors:[["app-contact-page"]],standalone:!0,features:[V],decls:6,vars:2,consts:[[1,"conteiner-news"],["title","Buscando contactados"],[3,"title"],[1,"conteiner-news__title"],[1,"conteiner-news__table"],[1,"conteiner-news__pagination"],[1,"container-pagination__links"],[1,"container-pagination__page"],[1,"fa-solid","fa-download",3,"click"],[1,"fa-solid","fa-trash-can",3,"click"],["colspan","6"],[3,"ngClass"],[3,"click"],[3,"click","ngClass"],[1,"alert","alert-error"],[1,"table-loading"]],template:function(e,r){e&1&&(a(0,"section",0),x(1,K,1,0,"app-title",1)(2,ne,29,4)(3,re,2,1),k(4,2,G,null,3),c()),e&2&&(s(),w(r.commentsResponse?-1:1),s(3),D((r.commentsResponse==null?null:r.commentsResponse.error)===!1))},dependencies:[z,v,L],styles:[".conteiner-news[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}.conteiner-news__dialog[_ngcontent-%COMP%]{width:80%;height:80%;border:none;box-shadow:none}.conteiner-news__title[_ngcontent-%COMP%]{width:100%;padding:10px}.conteiner-news__table[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly}.conteiner-news__table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;height:100%;border-collapse:collapse;border-top:1px solid rgba(0,0,0,.2823529412);border-bottom:1px solid rgba(0,0,0,.2823529412);text-align:center;color:#000;background:#fff;overflow:hidden;overflow-y:scroll;overflow-x:hidden;scrollbar-width:thin;scrollbar-color:#000000 #ffffff}.conteiner-news__table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff2e6;border-bottom:1px solid rgba(0,0,0,.2823529412)}.conteiner-news__table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px;font-size:1.2rem;font-weight:600}.conteiner-news__table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#96e9aa}.conteiner-news__table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#47cbef;font-weight:700;cursor:pointer}.conteiner-news__table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;font-size:1rem;font-weight:400;font-size:1.1rem}.conteiner-news__table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .table-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}.conteiner-news__pagination[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column}.conteiner-news__pagination[_ngcontent-%COMP%]   .container-pagination__links[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:row;gap:10px}.conteiner-news__pagination[_ngcontent-%COMP%]   .container-pagination__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:5px;font-size:1.2rem;font-weight:600;color:#47cbef;cursor:pointer}.conteiner-news__pagination[_ngcontent-%COMP%]   .container-pagination__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2e9cb5}.conteiner-news__pagination[_ngcontent-%COMP%]   .container-pagination__links[_ngcontent-%COMP%]   .active-page[_ngcontent-%COMP%]{border-bottom:2px solid #b31d15}.conteiner-news__pagination[_ngcontent-%COMP%]   .container-pagination__page[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:row}.conteiner-news__pagination[_ngcontent-%COMP%]   .container-pagination__page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px;font-size:1.2rem;font-weight:600;color:#ff9c03}"]});let n=i;return n})();export{xe as ContactPageComponent};
